{% extends 'base.html' %}
{% block content %}
<body>
  <script>
    function toggleAvailability(clicked_id) {
      const class_cycle = {
        "unset": "available",
        "available": "unavailable",
        "unavailable": "unset"
      }
      const element = document.getElementById(clicked_id);

      var new_class
      if (element.className == "available") {
        new_class = "unavailable";
      } else {
        new_class = "available";
      }
        
      element.classList.remove(element.className);
      element.classList.add(new_class);
    }

    function unsetAvailability(right_clicked_id) {
      const element = document.getElementById(right_clicked_id);

      if (element.className != "unset") {
        element.classList.remove(element.className);
        element.classList.add("unset");
      }
    }
  </script>

 <div class="month">
  <ul>
    <li class="prev">&#10094;</li>
    <li class="next">&#10095;</li>
    <li>{{month}}<br><span style="font-size:18px">{{year}}</span></li>
  </ul>
</div>

<ul class="weekdays">
  <li>Mo</li>
  <li>Tu</li>
  <li>We</li>
  <li>Th</li>
  <li>Fr</li>
  <li>Sa</li>
  <li>Su</li>
</ul>

<ul class="days">
  {%for day in before_month_days%}
    <li>
      <span class="out_of_current_month">{{day}}</span>
    </li>
  {%endfor%}
  {%for day in month_days%}
  	<li>
        <span id="{{day}}" class="unset" onclick="toggleAvailability(this.id)" oncontextmenu="unsetAvailability(this.id);return false;">{{day}}</span>
    </li>
  {%endfor%}
  {%for day in after_month_days%}
    <li>
      <span class="out_of_current_month">{{day}}</span>
    </li>
  {%endfor%}
</ul> 

</body>
{% endblock %}